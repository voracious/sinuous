import t from"./htm.js";let e,n=[];function o(t){function o(n){if(0===arguments.length)return e&&!o.__o.has(e)&&(o.__o.add(e),e.u.push(o)),t;t=n;let i=e;return e=void 0,o.o=new Set(o.__o),o.o.forEach((t=>t.i=!1)),o.o.forEach((t=>{t.i||t()})),e=i,t}return o.$o=1,o.__o=new Set,o.t=n,o}function i(t){t.__c.forEach(i),t.u.forEach((e=>{e.__o.delete(t),e.o&&e.o.delete(t)})),t.v.forEach((t=>t())),r(t)}function r(t){t.u=[],t.__c=[],t.v=[]}let f={},u=[];function l(t){return this.t&&this.t[t.type](t)}f.h=(...t)=>{let e,n=o=>{if(null==o);else if("string"==typeof o)e?f.add(e,o):e=f.s?document.createElementNS("http://www.w3.org/2000/svg",o):document.createElement(o);else if(Array.isArray(o))e||(e=document.createDocumentFragment()),o.forEach(n);else if(o instanceof Node)e?f.add(e,o):e=o;else if("object"==typeof o)f.property(e,o,null,f.s);else if("function"==typeof o)if(e){let t=f.add(e,"");f.insert(e,o,t)}else e=o.apply(null,t.splice(1));else f.add(e,""+o)};return t.forEach(n),e},f.insert=(t,e,n,o,i)=>(t=n&&n.parentNode||t,i=i||o instanceof Node&&o,e===o||(o&&"string"!=typeof o||!("string"==typeof e||"number"==typeof e&&(e+=""))?"function"==typeof e?f.subscribe((()=>{o=f.insert(t,e.call({el:t,endMark:n}),n,o,i)})):(n?o&&(i||(i=o.o&&o.o.nextSibling||n.previousSibling),f.rm(t,i,n)):t.textContent="",o=null,e&&!0!==e&&(o=f.add(t,e,n))):(null!=o&&t.firstChild?n?(n.previousSibling||t.lastChild).data=e:t.firstChild.data=e:n?f.add(t,e,n):t.textContent=e,o=e)),o),f.property=(t,e,n,o,i)=>{if(null!=e)if(!n||"attrs"===n&&(o=!0))for(n in e)f.property(t,e[n],n,o,i);else"o"!==n[0]||"n"!==n[1]||e.$o?"function"==typeof e?f.subscribe((()=>{f.property(t,e.call({el:t,name:n}),n,o,i)})):i?t.style.setProperty(n,e):o||"data-"===n.slice(0,5)||"aria-"===n.slice(0,5)?t.setAttribute(n,e):"style"===n?"string"==typeof e?t.style.cssText=e:f.property(t,e,null,o,!0):("class"===n&&(n+="Name"),t[n]=e):((t,e,n)=>{e=e.slice(2).toLowerCase(),n?t.addEventListener(e,l):t.removeEventListener(e,l),(t.t||(t.t={}))[e]=n})(t,n,e)},f.add=(t,e,n)=>{let o=(t=>{const{childNodes:e}=t;if(e&&11===t.nodeType)return e.length<2?e[0]:{o:f.add(t,"",e[0])}})(e=(t=>"string"==typeof t?document.createTextNode(t):t instanceof Node?t:f.h(u,t))(e))||e;return t.insertBefore(e,n&&n.parentNode&&n),o},f.rm=(t,e,n)=>{for(;e&&e!==n;){let n=e.nextSibling;t===e.parentNode&&t.removeChild(e),e=n}},f.subscribe=function(t){return function(t,n){function o(){let r=e;return e&&e.__c.push(o),i(o),o.i=!0,e=o,n=t(n),e=r,n}t.l=o,r(o),o()}(t),()=>i(t.l)},f.cleanup=function(t){return e&&e.v.push(t),t},f.root=function(t){let n=e,o=()=>{};e=o,r(o);let f=t((()=>{i(o),e=void 0}));return e=n,f},f.sample=function(t){let n=e;e=void 0;let o=t();return e=n,o},f.hs=(...t)=>{let e=f.s;f.s=!0;let n=s(...t);return f.s=e,n};let s=(...t)=>f.h.apply(f.h,t),c=(...t)=>f.hs.apply(f.hs,t),a=(...e)=>t.apply(s,e),d=(...e)=>t.apply(c,e);export{f as api,s as h,c as hs,a as html,o,o as observable,d as svg};
