{"version":3,"file":"sinuous.js","sources":["h.js","../src/index.js"],"sourcesContent":["let e={},t=[];function n(e){return this.t&&this.t[e.type](e)}e.h=(...t)=>{let n,o=s=>{if(null==s);else if(\"string\"==typeof s)n?e.add(n,s):n=e.s?document.createElementNS(\"http://www.w3.org/2000/svg\",s):document.createElement(s);else if(Array.isArray(s))n||(n=document.createDocumentFragment()),s.forEach(o);else if(s instanceof Node)n?e.add(n,s):n=s;else if(\"object\"==typeof s)e.property(n,s,null,e.s);else if(\"function\"==typeof s)if(n){let t=e.add(n,\"\");e.insert(n,s,t)}else n=s.apply(null,t.splice(1));else e.add(n,\"\"+s)};return t.forEach(o),n},e.insert=(t,n,o,s,f)=>(t=o&&o.parentNode||t,f=f||s instanceof Node&&s,n===s||(s&&\"string\"!=typeof s||!(\"string\"==typeof n||\"number\"==typeof n&&(n+=\"\"))?\"function\"==typeof n?e.subscribe((()=>{s=e.insert(t,n.call({el:t,endMark:o}),o,s,f)})):(o?s&&(f||(f=s.o&&s.o.nextSibling||o.previousSibling),e.rm(t,f,o)):t.textContent=\"\",s=null,n&&!0!==n&&(s=e.add(t,n,o))):(null!=s&&t.firstChild?o?(o.previousSibling||t.lastChild).data=n:t.firstChild.data=n:o?e.add(t,n,o):t.textContent=n,s=n)),s),e.property=(t,o,s,f,l)=>{if(null!=o)if(!s||\"attrs\"===s&&(f=!0))for(s in o)e.property(t,o[s],s,f,l);else\"o\"!==s[0]||\"n\"!==s[1]||o.$o?\"function\"==typeof o?e.subscribe((()=>{e.property(t,o.call({el:t,name:s}),s,f,l)})):l?t.style.setProperty(s,o):f||\"data-\"===s.slice(0,5)||\"aria-\"===s.slice(0,5)?t.setAttribute(s,o):\"style\"===s?\"string\"==typeof o?t.style.cssText=o:e.property(t,o,null,f,!0):(\"class\"===s&&(s+=\"Name\"),t[s]=o):((e,t,o)=>{t=t.slice(2).toLowerCase(),o?e.addEventListener(t,n):e.removeEventListener(t,n),(e.t||(e.t={}))[t]=o})(t,s,o)},e.add=(n,o,s)=>{let f=(t=>{const{childNodes:n}=t;if(n&&11===t.nodeType)return n.length<2?n[0]:{o:e.add(t,\"\",n[0])}})(o=(n=>\"string\"==typeof n?document.createTextNode(n):n instanceof Node?n:e.h(t,n))(o))||o;return n.insertBefore(o,s&&s.parentNode&&s),f},e.rm=(e,t,n)=>{for(;t&&t!==n;){let n=t.nextSibling;e===t.parentNode&&e.removeChild(t),t=n}};export{e as api};\n//# sourceMappingURL=h.js.map\n","/*\n * Sinuous by Wesley Luyten (@luwes).\n * Really ties all the packages together.\n */\nimport {\n  o,\n  observable,\n  subscribe,\n  cleanup,\n  root,\n  sample\n} from 'sinuous/observable';\nimport { api } from 'sinuous/h';\nimport htm from 'sinuous/htm';\n\n// Minified this is actually smaller than Object.assign(api, { ... })\napi.subscribe = subscribe;\napi.cleanup = cleanup;\napi.root = root;\napi.sample = sample;\n\napi.hs = (...args) => {\n  const prevIsSvg = api.s;\n  api.s = true;\n  const el = h(...args);\n  api.s = prevIsSvg;\n  return el;\n};\n\n// Makes it possible to intercept `h` calls and customize.\nexport const h = (...args) =>\n  api.h.apply(api.h, args);\n\n// Makes it possible to intercept `hs` calls and customize.\nexport const hs = (...args) =>\n  api.hs.apply(api.hs, args);\n\n// `export const html = htm.bind(h)` is not tree-shakeable!\nexport const html = (...args) =>\n  htm.apply(h, args);\n\n// `export const svg = htm.bind(hs)` is not tree-shakeable!\nexport const svg = (...args) =>\n  htm.apply(hs, args);\n\nexport { api, o, observable };\n"],"names":["e","t","n","this","type","h","o","s","add","document","createElementNS","createElement","Array","isArray","createDocumentFragment","forEach","Node","property","insert","apply","splice","f","parentNode","subscribe","call","el","endMark","nextSibling","previousSibling","rm","textContent","firstChild","lastChild","data","l","$o","name","style","setProperty","slice","setAttribute","cssText","toLowerCase","addEventListener","removeEventListener","childNodes","nodeType","length","createTextNode","insertBefore","removeChild","api","cleanup","root","sample","hs","args","prevIsSvg","html","htm","svg"],"mappings":"iJAAG,IAACA,EAAE,GAAGC,EAAE,GAAG,SAASC,EAAEF,GAAG,OAAOG,KAAKF,GAAGE,KAAKF,EAAED,EAAEI,MAAMJ,GAAGA,EAAEK,EAAE,IAAIJ,KAAK,IAAIC,EAAEI,EAAEC,IAAI,GAAG,MAAMA,QAAQ,GAAG,iBAAiBA,EAAEL,EAAEF,EAAEQ,IAAIN,EAAEK,GAAGL,EAAEF,EAAEO,EAAEE,SAASC,gBAAgB,6BAA6BH,GAAGE,SAASE,cAAcJ,QAAQ,GAAGK,MAAMC,QAAQN,GAAGL,IAAIA,EAAEO,SAASK,0BAA0BP,EAAEQ,QAAQT,QAAQ,GAAGC,aAAaS,KAAKd,EAAEF,EAAEQ,IAAIN,EAAEK,GAAGL,EAAEK,OAAO,GAAG,iBAAiBA,EAAEP,EAAEiB,SAASf,EAAEK,EAAE,KAAKP,EAAEO,QAAQ,GAAG,mBAAmBA,EAAE,GAAGL,EAAE,CAAC,IAAID,EAAED,EAAEQ,IAAIN,EAAE,IAAIF,EAAEkB,OAAOhB,EAAEK,EAAEN,QAAQC,EAAEK,EAAEY,MAAM,KAAKlB,EAAEmB,OAAO,SAASpB,EAAEQ,IAAIN,EAAE,GAAGK,IAAI,OAAON,EAAEc,QAAQT,GAAGJ,GAAGF,EAAEkB,OAAO,CAACjB,EAAEC,EAAEI,EAAEC,EAAEc,KAAKpB,EAAEK,GAAGA,EAAEgB,YAAYrB,EAAEoB,EAAEA,GAAGd,aAAaS,MAAMT,EAAEL,IAAIK,IAAIA,GAAG,iBAAiBA,KAAK,iBAAiBL,GAAG,iBAAiBA,IAAIA,GAAG,KAAK,mBAAmBA,EAAEF,EAAEuB,gBAAgBhB,EAAEP,EAAEkB,OAAOjB,EAAEC,EAAEsB,KAAK,CAACC,GAAGxB,EAAEyB,QAAQpB,IAAIA,EAAEC,EAAEc,OAAOf,EAAEC,IAAIc,IAAIA,EAAEd,EAAED,GAAGC,EAAED,EAAEqB,aAAarB,EAAEsB,iBAAiB5B,EAAE6B,GAAG5B,EAAEoB,EAAEf,IAAIL,EAAE6B,YAAY,GAAGvB,EAAE,KAAKL,IAAG,IAAKA,IAAIK,EAAEP,EAAEQ,IAAIP,EAAEC,EAAEI,MAAM,MAAMC,GAAGN,EAAE8B,WAAWzB,GAAGA,EAAEsB,iBAAiB3B,EAAE+B,WAAWC,KAAK/B,EAAED,EAAE8B,WAAWE,KAAK/B,EAAEI,EAAEN,EAAEQ,IAAIP,EAAEC,EAAEI,GAAGL,EAAE6B,YAAY5B,EAAEK,EAAEL,IAAIK,GAAGP,EAAEiB,SAAS,CAAChB,EAAEK,EAAEC,EAAEc,EAAEa,KAAK,GAAG,MAAM5B,EAAE,IAAIC,GAAG,UAAUA,IAAIc,GAAE,GAAI,IAAId,KAAKD,EAAEN,EAAEiB,SAAShB,EAAEK,EAAEC,GAAGA,EAAEc,EAAEa,OAAO,MAAM3B,EAAE,IAAI,MAAMA,EAAE,IAAID,EAAE6B,GAAG,mBAAmB7B,EAAEN,EAAEuB,gBAAgBvB,EAAEiB,SAAShB,EAAEK,EAAEkB,KAAK,CAACC,GAAGxB,EAAEmC,KAAK7B,IAAIA,EAAEc,EAAEa,MAAMA,EAAEjC,EAAEoC,MAAMC,YAAY/B,EAAED,GAAGe,GAAG,UAAUd,EAAEgC,MAAM,EAAE,IAAI,UAAUhC,EAAEgC,MAAM,EAAE,GAAGtC,EAAEuC,aAAajC,EAAED,GAAG,UAAUC,EAAE,iBAAiBD,EAAEL,EAAEoC,MAAMI,QAAQnC,EAAEN,EAAEiB,SAAShB,EAAEK,EAAE,KAAKe,GAAE,IAAK,UAAUd,IAAIA,GAAG,QAAQN,EAAEM,GAAGD,GAAG,EAAEN,EAAEC,EAAEK,KAAKL,EAAEA,EAAEsC,MAAM,GAAGG,cAAcpC,EAAEN,EAAE2C,iBAAiB1C,EAAEC,GAAGF,EAAE4C,oBAAoB3C,EAAEC,IAAIF,EAAEC,IAAID,EAAEC,EAAE,KAAKA,GAAGK,GAA9G,CAAkHL,EAAEM,EAAED,IAAIN,EAAEQ,IAAI,CAACN,EAAEI,EAAEC,KAAK,IAAIc,EAAE,CAACpB,IAAI,MAAM4C,WAAW3C,GAAGD,EAAE,GAAGC,GAAG,KAAKD,EAAE6C,SAAS,OAAO5C,EAAE6C,OAAO,EAAE7C,EAAE,GAAG,CAACI,EAAEN,EAAEQ,IAAIP,EAAE,GAAGC,EAAE,MAAxF,CAA+FI,EAAE,CAACJ,GAAG,iBAAiBA,EAAEO,SAASuC,eAAe9C,GAAGA,aAAac,KAAKd,EAAEF,EAAEK,EAAEJ,EAAEC,GAA5E,CAAgFI,KAAKA,EAAE,OAAOJ,EAAE+C,aAAa3C,EAAEC,GAAGA,EAAEe,YAAYf,GAAGc,GAAGrB,EAAE6B,GAAG,CAAC7B,EAAEC,EAAEC,KAAK,KAAKD,GAAGA,IAAIC,GAAG,CAAC,IAAIA,EAAED,EAAE0B,YAAY3B,IAAIC,EAAEqB,YAAYtB,EAAEkD,YAAYjD,GAAGA,EAAEC,ICgB33DiD,EAAI5B,UAAYA,EAChB4B,EAAIC,QAAUA,EACdD,EAAIE,KAAOA,EACXF,EAAIG,OAASA,EAEbH,EAAII,GAAK,IAAIC,KACX,MAAkBL,EAAI5C,EACtB4C,EAAI5C,GAAI,EACR,MAAWF,KAAKmD,GAEhB,OADAL,EAAI5C,EAAIkD,EACDhC,GAIG,MAAK,IAAI+B,IACnBL,EAAI9C,EAAEc,MAAMgC,EAAI9C,EAAGmD,GAGRD,EAAK,IAAIC,IACpBL,EAAII,GAAGpC,MAAMgC,EAAII,GAAIC,GAGVE,EAAO,IAAIF,IACtBG,EAAIxC,MAAMd,EAAGmD,GAGFI,EAAM,IAAIJ,IACrBG,EAAIxC,MAAMoC,EAAIC"}